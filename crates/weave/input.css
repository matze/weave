@import url("https://fonts.googleapis.com/css2?family=Inter:ital,wght@100..900&display=swap");
@import "tailwindcss";

@theme {
  --font-sans: "Inter", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
}

/* Remove top margin from first element in note body */
.prose > :first-child > :first-child {
  margin-top: 0;
}

/* Prevent prose defaults from overriding heading sizes */
.prose :where(h1, h2, h3, h4, h5, h6) {
  line-height: inherit;
}

/* Tighten spacing inside blockquotes and admonitions */
.prose :where(blockquote, [class*="border-s-4"]) > :first-child,
.prose :where(blockquote, [class*="border-s-4"]) > div > :first-child {
  margin-top: 0;
}
.prose :where(blockquote, [class*="border-s-4"]) > :last-child,
.prose :where(blockquote, [class*="border-s-4"]) > div > :last-child {
  margin-bottom: 0;
}

/* Tighten spacing inside list items */
.prose :where(li) > p {
  margin-top: 0.25rem;
  margin-bottom: 0.25rem;
}

/* Remove extra spacing on nested lists */
.prose :where(li) > :where(ul, ol) {
  margin-top: 0.25rem;
  margin-bottom: 0.25rem;
}

/* Shift all dark-mode gray backgrounds one step darker and desaturate the blue tint */
@media (prefers-color-scheme: dark) {
  :root {
    --color-gray-600: oklch(37.3% .010 260);
    --color-gray-700: oklch(27.8% .010 260);
    --color-gray-800: oklch(16%   .010 260);
    --color-gray-900: oklch(13%   .008 260);
  }
}

/* Note hover needs its own value since container and hover now share the same gray-800 mapping */
@media (prefers-color-scheme: dark) {
  .note-item:hover {
    background-color: oklch(21% .010 260);
  }
}

.note-item.active-note {
  border-left-color: var(--color-blue-400);
}

@media (max-width: 767px) {
  #sidebar.mobile-hidden {
    display: none;
  }

  #note-content {
    display: none;
  }

  #note-content.mobile-visible {
    display: flex;
  }
}

@media (min-width: 768px) {
  #sidebar {
    transition: opacity 0.3s ease, width 0.3s ease, border-right-width 0.3s ease;
  }

  body.focus-mode #sidebar {
    opacity: 0;
    width: 0;
    overflow: hidden;
    pointer-events: none;
    border-right-width: 0;
    transition: opacity 0.3s ease, width 0.3s ease, border-right-width 0.3s ease;
  }

  nav {
    transition: opacity 0.3s ease, width 0.3s ease;
  }

  body.focus-mode nav {
    opacity: 0;
    width: 0;
    overflow: hidden;
    pointer-events: none;
    transition: opacity 0.3s ease, width 0.3s ease;
  }

  body.focus-mode > div {
    background-color: transparent;
    transition: background-color 0.3s ease;
  }

  & > div {
    transition: background-color 0.3s ease;
  }

  body.focus-mode #note-content {
    background-color: var(--color-white);
  }

  body.focus-mode #note-content .prose {
    margin: 0 auto;
    max-width: var(--focus-prose-width, 65ch);
  }

  @media (prefers-color-scheme: dark) {
    body.focus-mode #note-content {
      background-color: var(--color-gray-800);
    }
  }
}
